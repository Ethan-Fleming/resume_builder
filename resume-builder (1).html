<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Resume Builder</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;600;700&family=Work+Sans:wght@400;500;600&display=swap');
    
    * {
      font-family: 'Work Sans', sans-serif;
    }
    
    input[type="checkbox"] {
      cursor: pointer;
    }
    
    input[type="checkbox"]:checked {
      background-color: #1a1a1a;
      border-color: #1a1a1a;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    // Lucide React icons as inline SVG components
    const Download = ({ size = 24 }) => (
      <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
        <polyline points="7 10 12 15 17 10"></polyline>
        <line x1="12" y1="15" x2="12" y2="3"></line>
      </svg>
    );

    const Plus = ({ size = 24 }) => (
      <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <line x1="12" y1="5" x2="12" y2="19"></line>
        <line x1="5" y1="12" x2="19" y2="12"></line>
      </svg>
    );

    const Trash2 = ({ size = 24 }) => (
      <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <polyline points="3 6 5 6 21 6"></polyline>
        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
        <line x1="10" y1="11" x2="10" y2="17"></line>
        <line x1="14" y1="11" x2="14" y2="17"></line>
      </svg>
    );

    const ResumeBuilder = () => {
      const [activeTab, setActiveTab] = useState('personal');
      const [editMode, setEditMode] = useState({});
      const [selectedSections, setSelectedSections] = useState({
        personal: true,
        education: true,
        work: true,
        skills: true,
        experience: true
      });
      
      const [resumeFilename, setResumeFilename] = useState('');

      const [personalInfo, setPersonalInfo] = useState({
        fullName: '',
        email: '',
        phone: '',
        location: '',
        website: '',
        linkedin: '',
        summary: ''
      });

      const [education, setEducation] = useState([]);
      const [workExperience, setWorkExperience] = useState([]);
      const [technicalSkills, setTechnicalSkills] = useState([]);
      const [relevantExperience, setRelevantExperience] = useState([]);

      // Load data from localStorage on mount
      useEffect(() => {
        const saved = localStorage.getItem('resumeData');
        if (saved) {
          const data = JSON.parse(saved);
          setPersonalInfo(data.personalInfo || personalInfo);
          setEducation(data.education || []);
          setWorkExperience(data.workExperience || []);
          setTechnicalSkills(data.technicalSkills || []);
          setRelevantExperience(data.relevantExperience || []);
          setSelectedSections(data.selectedSections || selectedSections);
        }
      }, []);

      // Save data to localStorage whenever it changes
      useEffect(() => {
        const data = {
          personalInfo,
          education,
          workExperience,
          technicalSkills,
          relevantExperience,
          selectedSections
        };
        localStorage.setItem('resumeData', JSON.stringify(data));
      }, [personalInfo, education, workExperience, technicalSkills, relevantExperience, selectedSections]);

      const addEducation = () => {
        setEducation([...education, {
          id: Date.now(),
          school: '',
          degree: '',
          field: '',
          startDate: '',
          endDate: '',
          gpa: '',
          achievements: '',
          included: true
        }]);
      };

      const updateEducation = (id, field, value) => {
        setEducation(education.map(edu => 
          edu.id === id ? { ...edu, [field]: value } : edu
        ));
      };

      const deleteEducation = (id) => {
        setEducation(education.filter(edu => edu.id !== id));
      };

      const addWork = () => {
        setWorkExperience([...workExperience, {
          id: Date.now(),
          company: '',
          position: '',
          location: '',
          startDate: '',
          endDate: '',
          current: false,
          responsibilities: '',
          included: true
        }]);
      };

      const updateWork = (id, field, value) => {
        setWorkExperience(workExperience.map(work => 
          work.id === id ? { ...work, [field]: value } : work
        ));
      };

      const deleteWork = (id) => {
        setWorkExperience(workExperience.filter(work => work.id !== id));
      };

      const addSkill = () => {
        setTechnicalSkills([...technicalSkills, {
          id: Date.now(),
          category: '',
          skills: '',
          included: true
        }]);
      };

      const updateSkill = (id, field, value) => {
        setTechnicalSkills(technicalSkills.map(skill => 
          skill.id === id ? { ...skill, [field]: value } : skill
        ));
      };

      const deleteSkill = (id) => {
        setTechnicalSkills(technicalSkills.filter(skill => skill.id !== id));
      };

      const addExperience = () => {
        setRelevantExperience([...relevantExperience, {
          id: Date.now(),
          title: '',
          organization: '',
          date: '',
          description: '',
          included: true
        }]);
      };

      const updateExperience = (id, field, value) => {
        setRelevantExperience(relevantExperience.map(exp => 
          exp.id === id ? { ...exp, [field]: value } : exp
        ));
      };

      const deleteExperience = (id) => {
        setRelevantExperience(relevantExperience.filter(exp => exp.id !== id));
      };

      const generateResume = () => {
        const filename = resumeFilename.trim() || personalInfo.fullName || 'resume';
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();
        
        let yPos = 20;
        const pageWidth = doc.internal.pageSize.getWidth();
        const margin = 20;
        const contentWidth = pageWidth - (margin * 2);
        
        // Helper function to add text with word wrap
        const addText = (text, x, y, fontSize, fontStyle = 'normal', maxWidth = contentWidth) => {
          doc.setFontSize(fontSize);
          doc.setFont('helvetica', fontStyle);
          const lines = doc.splitTextToSize(text, maxWidth);
          doc.text(lines, x, y);
          return y + (lines.length * fontSize * 0.4);
        };
        
        // Helper to check if we need a new page
        const checkNewPage = (requiredSpace = 20) => {
          if (yPos + requiredSpace > 280) {
            doc.addPage();
            yPos = 20;
          }
        };

        // Personal Information
        if (selectedSections.personal && personalInfo.fullName) {
          // Name
          doc.setFontSize(24);
          doc.setFont('helvetica', 'bold');
          doc.text(personalInfo.fullName, margin, yPos);
          yPos += 10;
          
          // Contact info
          doc.setFontSize(10);
          doc.setFont('helvetica', 'normal');
          const contactInfo = [
            personalInfo.email,
            personalInfo.phone,
            personalInfo.location,
            personalInfo.linkedin,
            personalInfo.website
          ].filter(Boolean).join(' | ');
          
          if (contactInfo) {
            const lines = doc.splitTextToSize(contactInfo, contentWidth);
            doc.text(lines, margin, yPos);
            yPos += lines.length * 5;
          }
          
          // Line separator
          doc.setLineWidth(0.5);
          doc.line(margin, yPos + 2, pageWidth - margin, yPos + 2);
          yPos += 8;
          
          // Summary
          if (personalInfo.summary) {
            checkNewPage(30);
            doc.setFillColor(248, 248, 248);
            const summaryLines = doc.splitTextToSize(personalInfo.summary, contentWidth - 8);
            const summaryHeight = summaryLines.length * 5 + 8;
            doc.rect(margin, yPos, contentWidth, summaryHeight, 'F');
            doc.setFontSize(10);
            doc.text(summaryLines, margin + 4, yPos + 6);
            yPos += summaryHeight + 8;
          }
        }

        // Education
        if (selectedSections.education && education.filter(e => e.included !== false).length > 0) {
          checkNewPage(40);
          doc.setFontSize(16);
          doc.setFont('helvetica', 'bold');
          doc.text('EDUCATION', margin, yPos);
          yPos += 8;
          
          education.filter(e => e.included !== false).forEach((edu, index) => {
            checkNewPage(30);
            
            // School and Date
            doc.setFontSize(12);
            doc.setFont('helvetica', 'bold');
            doc.text(edu.school || 'School Name', margin, yPos);
            
            const dateText = `${edu.startDate} - ${edu.endDate}`;
            const dateWidth = doc.getTextWidth(dateText);
            doc.setFont('helvetica', 'italic');
            doc.setFontSize(10);
            doc.text(dateText, pageWidth - margin - dateWidth, yPos);
            yPos += 6;
            
            // Degree
            doc.setFont('helvetica', 'normal');
            doc.setFontSize(10);
            let degreeText = edu.degree;
            if (edu.field) degreeText += ` in ${edu.field}`;
            if (edu.gpa) degreeText += ` | GPA: ${edu.gpa}`;
            doc.text(degreeText, margin, yPos);
            yPos += 5;
            
            // Achievements
            if (edu.achievements) {
              const achLines = doc.splitTextToSize(edu.achievements, contentWidth);
              doc.text(achLines, margin, yPos);
              yPos += achLines.length * 5;
            }
            
            yPos += 5;
          });
        }

        // Work Experience
        if (selectedSections.work && workExperience.filter(w => w.included !== false).length > 0) {
          checkNewPage(40);
          doc.setFontSize(16);
          doc.setFont('helvetica', 'bold');
          doc.text('WORK EXPERIENCE', margin, yPos);
          yPos += 8;
          
          workExperience.filter(w => w.included !== false).forEach((work) => {
            checkNewPage(35);
            
            // Position and Date
            doc.setFontSize(12);
            doc.setFont('helvetica', 'bold');
            doc.text(work.position || 'Position', margin, yPos);
            
            const dateText = `${work.startDate} - ${work.current ? 'Present' : work.endDate}`;
            const dateWidth = doc.getTextWidth(dateText);
            doc.setFont('helvetica', 'italic');
            doc.setFontSize(10);
            doc.text(dateText, pageWidth - margin - dateWidth, yPos);
            yPos += 6;
            
            // Company
            doc.setFont('helvetica', 'normal');
            doc.setFontSize(10);
            let companyText = work.company;
            if (work.location) companyText += ` | ${work.location}`;
            doc.text(companyText, margin, yPos);
            yPos += 6;
            
            // Responsibilities
            if (work.responsibilities) {
              const responsibilities = work.responsibilities.split('\n').filter(r => r.trim());
              responsibilities.forEach(resp => {
                checkNewPage(10);
                const bullet = 'â€¢ ';
                const respLines = doc.splitTextToSize(resp, contentWidth - 10);
                doc.text(bullet, margin + 2, yPos);
                doc.text(respLines, margin + 8, yPos);
                yPos += respLines.length * 5;
              });
            }
            
            yPos += 5;
          });
        }

        // Technical Skills
        if (selectedSections.skills && technicalSkills.filter(s => s.included !== false).length > 0) {
          checkNewPage(40);
          doc.setFontSize(16);
          doc.setFont('helvetica', 'bold');
          doc.text('TECHNICAL SKILLS', margin, yPos);
          yPos += 8;
          
          technicalSkills.filter(s => s.included !== false).forEach((skill) => {
            checkNewPage(15);
            doc.setFontSize(10);
            doc.setFont('helvetica', 'bold');
            const categoryText = `${skill.category}:`;
            const categoryWidth = doc.getTextWidth(categoryText);
            doc.text(categoryText, margin, yPos);
            
            doc.setFont('helvetica', 'normal');
            const skillLines = doc.splitTextToSize(skill.skills, contentWidth - categoryWidth - 5);
            doc.text(skillLines, margin + categoryWidth + 3, yPos);
            yPos += skillLines.length * 5 + 3;
          });
        }

        // Relevant Experience
        if (selectedSections.experience && relevantExperience.filter(e => e.included !== false).length > 0) {
          checkNewPage(40);
          doc.setFontSize(16);
          doc.setFont('helvetica', 'bold');
          doc.text('RELEVANT EXPERIENCE', margin, yPos);
          yPos += 8;
          
          relevantExperience.filter(e => e.included !== false).forEach((exp) => {
            checkNewPage(30);
            
            // Title and Date
            doc.setFontSize(12);
            doc.setFont('helvetica', 'bold');
            doc.text(exp.title || 'Experience Title', margin, yPos);
            
            if (exp.date) {
              const dateWidth = doc.getTextWidth(exp.date);
              doc.setFont('helvetica', 'italic');
              doc.setFontSize(10);
              doc.text(exp.date, pageWidth - margin - dateWidth, yPos);
            }
            yPos += 6;
            
            // Organization
            if (exp.organization) {
              doc.setFont('helvetica', 'normal');
              doc.setFontSize(10);
              doc.text(exp.organization, margin, yPos);
              yPos += 5;
            }
            
            // Description
            if (exp.description) {
              doc.setFont('helvetica', 'normal');
              doc.setFontSize(10);
              const descLines = doc.splitTextToSize(exp.description, contentWidth);
              doc.text(descLines, margin, yPos);
              yPos += descLines.length * 5;
            }
            
            yPos += 5;
          });
        }

        // Save the PDF
        doc.save(`${filename}.pdf`);
      };

      const tabs = [
        { id: 'personal', label: 'Personal Info' },
        { id: 'education', label: 'Education' },
        { id: 'work', label: 'Work Experience' },
        { id: 'skills', label: 'Technical Skills' },
        { id: 'experience', label: 'Relevant Experience' }
      ];

      return (
        <div className="min-h-screen bg-gradient-to-br from-slate-50 via-stone-50 to-neutral-100">
          <div className="max-w-7xl mx-auto p-8">
            {/* Header */}
            <div className="mb-12 relative">
              <div className="absolute inset-0 bg-gradient-to-r from-neutral-900 via-stone-800 to-neutral-900 opacity-5 blur-3xl"></div>
              <div className="relative">
                <h1 className="text-6xl font-bold mb-3 tracking-tight" style={{ fontFamily: 'Crimson Pro, serif' }}>
                  Resume Builder
                </h1>
                <p className="text-lg text-neutral-600" style={{ fontFamily: 'Work Sans, sans-serif' }}>
                  Craft your professional story with precision and elegance
                </p>
              </div>
            </div>

            <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
              {/* Left Panel - Form */}
              <div className="lg:col-span-2">
                <div className="bg-white rounded-2xl shadow-xl border border-neutral-200 overflow-hidden">
                  {/* Tabs */}
                  <div className="border-b border-neutral-200 bg-neutral-50">
                    <div className="flex overflow-x-auto">
                      {tabs.map(tab => (
                        <button
                          key={tab.id}
                          onClick={() => setActiveTab(tab.id)}
                          className={`px-6 py-4 text-sm font-medium transition-all whitespace-nowrap ${
                            activeTab === tab.id
                              ? 'border-b-3 border-neutral-900 bg-white text-neutral-900'
                              : 'text-neutral-500 hover:text-neutral-700 hover:bg-neutral-100'
                          }`}
                          style={{ fontFamily: 'Work Sans, sans-serif' }}
                        >
                          {tab.label}
                        </button>
                      ))}
                    </div>
                  </div>

                  {/* Form Content */}
                  <div className="p-8">
                    {activeTab === 'personal' && (
                      <div className="space-y-6">
                        <div className="grid grid-cols-2 gap-6">
                          <div className="col-span-2">
                            <label className="block text-sm font-semibold text-neutral-700 mb-2">Full Name</label>
                            <input
                              type="text"
                              value={personalInfo.fullName}
                              onChange={(e) => setPersonalInfo({ ...personalInfo, fullName: e.target.value })}
                              className="w-full px-4 py-3 rounded-lg border border-neutral-300 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900 focus:ring-opacity-20 outline-none transition"
                              placeholder="John Doe"
                            />
                          </div>
                          <div>
                            <label className="block text-sm font-semibold text-neutral-700 mb-2">Email</label>
                            <input
                              type="email"
                              value={personalInfo.email}
                              onChange={(e) => setPersonalInfo({ ...personalInfo, email: e.target.value })}
                              className="w-full px-4 py-3 rounded-lg border border-neutral-300 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900 focus:ring-opacity-20 outline-none transition"
                              placeholder="john@example.com"
                            />
                          </div>
                          <div>
                            <label className="block text-sm font-semibold text-neutral-700 mb-2">Phone</label>
                            <input
                              type="tel"
                              value={personalInfo.phone}
                              onChange={(e) => setPersonalInfo({ ...personalInfo, phone: e.target.value })}
                              className="w-full px-4 py-3 rounded-lg border border-neutral-300 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900 focus:ring-opacity-20 outline-none transition"
                              placeholder="(555) 123-4567"
                            />
                          </div>
                          <div>
                            <label className="block text-sm font-semibold text-neutral-700 mb-2">Location</label>
                            <input
                              type="text"
                              value={personalInfo.location}
                              onChange={(e) => setPersonalInfo({ ...personalInfo, location: e.target.value })}
                              className="w-full px-4 py-3 rounded-lg border border-neutral-300 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900 focus:ring-opacity-20 outline-none transition"
                              placeholder="New York, NY"
                            />
                          </div>
                          <div>
                            <label className="block text-sm font-semibold text-neutral-700 mb-2">LinkedIn</label>
                            <input
                              type="text"
                              value={personalInfo.linkedin}
                              onChange={(e) => setPersonalInfo({ ...personalInfo, linkedin: e.target.value })}
                              className="w-full px-4 py-3 rounded-lg border border-neutral-300 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900 focus:ring-opacity-20 outline-none transition"
                              placeholder="linkedin.com/in/johndoe"
                            />
                          </div>
                          <div className="col-span-2">
                            <label className="block text-sm font-semibold text-neutral-700 mb-2">Website/Portfolio</label>
                            <input
                              type="text"
                              value={personalInfo.website}
                              onChange={(e) => setPersonalInfo({ ...personalInfo, website: e.target.value })}
                              className="w-full px-4 py-3 rounded-lg border border-neutral-300 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900 focus:ring-opacity-20 outline-none transition"
                              placeholder="johndoe.com"
                            />
                          </div>
                          <div className="col-span-2">
                            <label className="block text-sm font-semibold text-neutral-700 mb-2">Professional Summary</label>
                            <textarea
                              value={personalInfo.summary}
                              onChange={(e) => setPersonalInfo({ ...personalInfo, summary: e.target.value })}
                              rows={4}
                              className="w-full px-4 py-3 rounded-lg border border-neutral-300 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900 focus:ring-opacity-20 outline-none transition resize-none"
                              placeholder="A brief summary of your professional background and career objectives..."
                            />
                          </div>
                        </div>
                      </div>
                    )}

                    {activeTab === 'education' && (
                      <div className="space-y-6">
                        {education.map((edu, index) => (
                          <div key={edu.id} className="p-6 bg-neutral-50 rounded-xl border border-neutral-200 space-y-4">
                            <div className="flex justify-between items-center mb-4">
                              <div className="flex items-center gap-3">
                                <input
                                  type="checkbox"
                                  checked={edu.included !== false}
                                  onChange={(e) => updateEducation(edu.id, 'included', e.target.checked)}
                                  className="w-5 h-5 rounded border-neutral-300 text-neutral-900 focus:ring-neutral-900"
                                  title="Include in resume"
                                />
                                <h3 className="font-semibold text-lg">Education {index + 1}</h3>
                              </div>
                              <button
                                onClick={() => deleteEducation(edu.id)}
                                className="text-red-600 hover:text-red-700 p-2 hover:bg-red-50 rounded-lg transition"
                              >
                                <Trash2 size={18} />
                              </button>
                            </div>
                            <div className="grid grid-cols-2 gap-4">
                              <div className="col-span-2">
                                <label className="block text-sm font-medium text-neutral-700 mb-2">School/University</label>
                                <input
                                  type="text"
                                  value={edu.school}
                                  onChange={(e) => updateEducation(edu.id, 'school', e.target.value)}
                                  className="w-full px-4 py-2 rounded-lg border border-neutral-300 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900 focus:ring-opacity-20 outline-none"
                                  placeholder="Harvard University"
                                />
                              </div>
                              <div>
                                <label className="block text-sm font-medium text-neutral-700 mb-2">Degree</label>
                                <input
                                  type="text"
                                  value={edu.degree}
                                  onChange={(e) => updateEducation(edu.id, 'degree', e.target.value)}
                                  className="w-full px-4 py-2 rounded-lg border border-neutral-300 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900 focus:ring-opacity-20 outline-none"
                                  placeholder="Bachelor of Science"
                                />
                              </div>
                              <div>
                                <label className="block text-sm font-medium text-neutral-700 mb-2">Field of Study</label>
                                <input
                                  type="text"
                                  value={edu.field}
                                  onChange={(e) => updateEducation(edu.id, 'field', e.target.value)}
                                  className="w-full px-4 py-2 rounded-lg border border-neutral-300 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900 focus:ring-opacity-20 outline-none"
                                  placeholder="Computer Science"
                                />
                              </div>
                              <div>
                                <label className="block text-sm font-medium text-neutral-700 mb-2">Start Date</label>
                                <input
                                  type="text"
                                  value={edu.startDate}
                                  onChange={(e) => updateEducation(edu.id, 'startDate', e.target.value)}
                                  className="w-full px-4 py-2 rounded-lg border border-neutral-300 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900 focus:ring-opacity-20 outline-none"
                                  placeholder="Sep 2018"
                                />
                              </div>
                              <div>
                                <label className="block text-sm font-medium text-neutral-700 mb-2">End Date</label>
                                <input
                                  type="text"
                                  value={edu.endDate}
                                  onChange={(e) => updateEducation(edu.id, 'endDate', e.target.value)}
                                  className="w-full px-4 py-2 rounded-lg border border-neutral-300 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900 focus:ring-opacity-20 outline-none"
                                  placeholder="May 2022"
                                />
                              </div>
                              <div className="col-span-2">
                                <label className="block text-sm font-medium text-neutral-700 mb-2">GPA (Optional)</label>
                                <input
                                  type="text"
                                  value={edu.gpa}
                                  onChange={(e) => updateEducation(edu.id, 'gpa', e.target.value)}
                                  className="w-full px-4 py-2 rounded-lg border border-neutral-300 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900 focus:ring-opacity-20 outline-none"
                                  placeholder="3.8/4.0"
                                />
                              </div>
                              <div className="col-span-2">
                                <label className="block text-sm font-medium text-neutral-700 mb-2">Achievements/Honors</label>
                                <textarea
                                  value={edu.achievements}
                                  onChange={(e) => updateEducation(edu.id, 'achievements', e.target.value)}
                                  rows={3}
                                  className="w-full px-4 py-2 rounded-lg border border-neutral-300 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900 focus:ring-opacity-20 outline-none resize-none"
                                  placeholder="Dean's List, Summa Cum Laude, etc."
                                />
                              </div>
                            </div>
                          </div>
                        ))}
                        <button
                          onClick={addEducation}
                          className="w-full py-3 border-2 border-dashed border-neutral-300 rounded-xl text-neutral-600 hover:border-neutral-900 hover:text-neutral-900 transition flex items-center justify-center gap-2 font-medium"
                        >
                          <Plus size={20} />
                          Add Education
                        </button>
                      </div>
                    )}

                    {activeTab === 'work' && (
                      <div className="space-y-6">
                        {workExperience.map((work, index) => (
                          <div key={work.id} className="p-6 bg-neutral-50 rounded-xl border border-neutral-200 space-y-4">
                            <div className="flex justify-between items-center mb-4">
                              <div className="flex items-center gap-3">
                                <input
                                  type="checkbox"
                                  checked={work.included !== false}
                                  onChange={(e) => updateWork(work.id, 'included', e.target.checked)}
                                  className="w-5 h-5 rounded border-neutral-300 text-neutral-900 focus:ring-neutral-900"
                                  title="Include in resume"
                                />
                                <h3 className="font-semibold text-lg">Position {index + 1}</h3>
                              </div>
                              <button
                                onClick={() => deleteWork(work.id)}
                                className="text-red-600 hover:text-red-700 p-2 hover:bg-red-50 rounded-lg transition"
                              >
                                <Trash2 size={18} />
                              </button>
                            </div>
                            <div className="grid grid-cols-2 gap-4">
                              <div className="col-span-2">
                                <label className="block text-sm font-medium text-neutral-700 mb-2">Company</label>
                                <input
                                  type="text"
                                  value={work.company}
                                  onChange={(e) => updateWork(work.id, 'company', e.target.value)}
                                  className="w-full px-4 py-2 rounded-lg border border-neutral-300 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900 focus:ring-opacity-20 outline-none"
                                  placeholder="Google"
                                />
                              </div>
                              <div>
                                <label className="block text-sm font-medium text-neutral-700 mb-2">Position</label>
                                <input
                                  type="text"
                                  value={work.position}
                                  onChange={(e) => updateWork(work.id, 'position', e.target.value)}
                                  className="w-full px-4 py-2 rounded-lg border border-neutral-300 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900 focus:ring-opacity-20 outline-none"
                                  placeholder="Software Engineer"
                                />
                              </div>
                              <div>
                                <label className="block text-sm font-medium text-neutral-700 mb-2">Location</label>
                                <input
                                  type="text"
                                  value={work.location}
                                  onChange={(e) => updateWork(work.id, 'location', e.target.value)}
                                  className="w-full px-4 py-2 rounded-lg border border-neutral-300 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900 focus:ring-opacity-20 outline-none"
                                  placeholder="San Francisco, CA"
                                />
                              </div>
                              <div>
                                <label className="block text-sm font-medium text-neutral-700 mb-2">Start Date</label>
                                <input
                                  type="text"
                                  value={work.startDate}
                                  onChange={(e) => updateWork(work.id, 'startDate', e.target.value)}
                                  className="w-full px-4 py-2 rounded-lg border border-neutral-300 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900 focus:ring-opacity-20 outline-none"
                                  placeholder="Jun 2022"
                                />
                              </div>
                              <div>
                                <label className="block text-sm font-medium text-neutral-700 mb-2">End Date</label>
                                <input
                                  type="text"
                                  value={work.endDate}
                                  onChange={(e) => updateWork(work.id, 'endDate', e.target.value)}
                                  disabled={work.current}
                                  className="w-full px-4 py-2 rounded-lg border border-neutral-300 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900 focus:ring-opacity-20 outline-none disabled:bg-neutral-100"
                                  placeholder="Dec 2023"
                                />
                              </div>
                              <div className="col-span-2">
                                <label className="flex items-center gap-2">
                                  <input
                                    type="checkbox"
                                    checked={work.current}
                                    onChange={(e) => updateWork(work.id, 'current', e.target.checked)}
                                    className="w-4 h-4 rounded border-neutral-300"
                                  />
                                  <span className="text-sm font-medium text-neutral-700">I currently work here</span>
                                </label>
                              </div>
                              <div className="col-span-2">
                                <label className="block text-sm font-medium text-neutral-700 mb-2">Responsibilities (one per line)</label>
                                <textarea
                                  value={work.responsibilities}
                                  onChange={(e) => updateWork(work.id, 'responsibilities', e.target.value)}
                                  rows={5}
                                  className="w-full px-4 py-2 rounded-lg border border-neutral-300 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900 focus:ring-opacity-20 outline-none resize-none"
                                  placeholder="Led development of new features&#10;Improved system performance by 40%&#10;Mentored junior developers"
                                />
                              </div>
                            </div>
                          </div>
                        ))}
                        <button
                          onClick={addWork}
                          className="w-full py-3 border-2 border-dashed border-neutral-300 rounded-xl text-neutral-600 hover:border-neutral-900 hover:text-neutral-900 transition flex items-center justify-center gap-2 font-medium"
                        >
                          <Plus size={20} />
                          Add Work Experience
                        </button>
                      </div>
                    )}

                    {activeTab === 'skills' && (
                      <div className="space-y-6">
                        {technicalSkills.map((skill, index) => (
                          <div key={skill.id} className="p-6 bg-neutral-50 rounded-xl border border-neutral-200 space-y-4">
                            <div className="flex justify-between items-center mb-4">
                              <div className="flex items-center gap-3">
                                <input
                                  type="checkbox"
                                  checked={skill.included !== false}
                                  onChange={(e) => updateSkill(skill.id, 'included', e.target.checked)}
                                  className="w-5 h-5 rounded border-neutral-300 text-neutral-900 focus:ring-neutral-900"
                                  title="Include in resume"
                                />
                                <h3 className="font-semibold text-lg">Skill Category {index + 1}</h3>
                              </div>
                              <button
                                onClick={() => deleteSkill(skill.id)}
                                className="text-red-600 hover:text-red-700 p-2 hover:bg-red-50 rounded-lg transition"
                              >
                                <Trash2 size={18} />
                              </button>
                            </div>
                            <div className="space-y-4">
                              <div>
                                <label className="block text-sm font-medium text-neutral-700 mb-2">Category</label>
                                <input
                                  type="text"
                                  value={skill.category}
                                  onChange={(e) => updateSkill(skill.id, 'category', e.target.value)}
                                  className="w-full px-4 py-2 rounded-lg border border-neutral-300 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900 focus:ring-opacity-20 outline-none"
                                  placeholder="Programming Languages"
                                />
                              </div>
                              <div>
                                <label className="block text-sm font-medium text-neutral-700 mb-2">Skills (comma-separated)</label>
                                <input
                                  type="text"
                                  value={skill.skills}
                                  onChange={(e) => updateSkill(skill.id, 'skills', e.target.value)}
                                  className="w-full px-4 py-2 rounded-lg border border-neutral-300 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900 focus:ring-opacity-20 outline-none"
                                  placeholder="Python, JavaScript, Java, C++"
                                />
                              </div>
                            </div>
                          </div>
                        ))}
                        <button
                          onClick={addSkill}
                          className="w-full py-3 border-2 border-dashed border-neutral-300 rounded-xl text-neutral-600 hover:border-neutral-900 hover:text-neutral-900 transition flex items-center justify-center gap-2 font-medium"
                        >
                          <Plus size={20} />
                          Add Skill Category
                        </button>
                      </div>
                    )}

                    {activeTab === 'experience' && (
                      <div className="space-y-6">
                        {relevantExperience.map((exp, index) => (
                          <div key={exp.id} className="p-6 bg-neutral-50 rounded-xl border border-neutral-200 space-y-4">
                            <div className="flex justify-between items-center mb-4">
                              <div className="flex items-center gap-3">
                                <input
                                  type="checkbox"
                                  checked={exp.included !== false}
                                  onChange={(e) => updateExperience(exp.id, 'included', e.target.checked)}
                                  className="w-5 h-5 rounded border-neutral-300 text-neutral-900 focus:ring-neutral-900"
                                  title="Include in resume"
                                />
                                <h3 className="font-semibold text-lg">Experience {index + 1}</h3>
                              </div>
                              <button
                                onClick={() => deleteExperience(exp.id)}
                                className="text-red-600 hover:text-red-700 p-2 hover:bg-red-50 rounded-lg transition"
                              >
                                <Trash2 size={18} />
                              </button>
                            </div>
                            <div className="space-y-4">
                              <div>
                                <label className="block text-sm font-medium text-neutral-700 mb-2">Title</label>
                                <input
                                  type="text"
                                  value={exp.title}
                                  onChange={(e) => updateExperience(exp.id, 'title', e.target.value)}
                                  className="w-full px-4 py-2 rounded-lg border border-neutral-300 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900 focus:ring-opacity-20 outline-none"
                                  placeholder="Volunteer Coordinator"
                                />
                              </div>
                              <div>
                                <label className="block text-sm font-medium text-neutral-700 mb-2">Organization</label>
                                <input
                                  type="text"
                                  value={exp.organization}
                                  onChange={(e) => updateExperience(exp.id, 'organization', e.target.value)}
                                  className="w-full px-4 py-2 rounded-lg border border-neutral-300 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900 focus:ring-opacity-20 outline-none"
                                  placeholder="Red Cross"
                                />
                              </div>
                              <div>
                                <label className="block text-sm font-medium text-neutral-700 mb-2">Date</label>
                                <input
                                  type="text"
                                  value={exp.date}
                                  onChange={(e) => updateExperience(exp.id, 'date', e.target.value)}
                                  className="w-full px-4 py-2 rounded-lg border border-neutral-300 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900 focus:ring-opacity-20 outline-none"
                                  placeholder="Jan 2021 - Dec 2021"
                                />
                              </div>
                              <div>
                                <label className="block text-sm font-medium text-neutral-700 mb-2">Description</label>
                                <textarea
                                  value={exp.description}
                                  onChange={(e) => updateExperience(exp.id, 'description', e.target.value)}
                                  rows={4}
                                  className="w-full px-4 py-2 rounded-lg border border-neutral-300 focus:border-neutral-900 focus:ring-2 focus:ring-neutral-900 focus:ring-opacity-20 outline-none resize-none"
                                  placeholder="Organized fundraising events and coordinated volunteers..."
                                />
                              </div>
                            </div>
                          </div>
                        ))}
                        <button
                          onClick={addExperience}
                          className="w-full py-3 border-2 border-dashed border-neutral-300 rounded-xl text-neutral-600 hover:border-neutral-900 hover:text-neutral-900 transition flex items-center justify-center gap-2 font-medium"
                        >
                          <Plus size={20} />
                          Add Relevant Experience
                        </button>
                      </div>
                    )}
                  </div>
                </div>
              </div>

              {/* Right Panel - Preview & Export */}
              <div className="lg:col-span-1">
                <div className="sticky top-8 space-y-6">
                  {/* Section Selection */}
                  <div className="bg-white rounded-2xl shadow-xl border border-neutral-200 p-6">
                    <h3 className="text-xl font-bold mb-4" style={{ fontFamily: 'Crimson Pro, serif' }}>
                      Include Sections
                    </h3>
                    <div className="space-y-3">
                      {Object.keys(selectedSections).map(section => (
                        <label key={section} className="flex items-center gap-3 cursor-pointer group">
                          <input
                            type="checkbox"
                            checked={selectedSections[section]}
                            onChange={(e) => setSelectedSections({
                              ...selectedSections,
                              [section]: e.target.checked
                            })}
                            className="w-5 h-5 rounded border-neutral-300 text-neutral-900 focus:ring-neutral-900"
                          />
                          <span className="text-sm font-medium text-neutral-700 group-hover:text-neutral-900 capitalize">
                            {section === 'personal' ? 'Personal Information' : 
                             section === 'work' ? 'Work Experience' :
                             section === 'skills' ? 'Technical Skills' :
                             section}
                          </span>
                        </label>
                      ))}
                    </div>
                  </div>

                  {/* Export */}
                  <div className="bg-gradient-to-br from-neutral-900 to-stone-800 rounded-2xl shadow-xl p-6 text-white">
                    <h3 className="text-xl font-bold mb-3" style={{ fontFamily: 'Crimson Pro, serif' }}>
                      Export Resume
                    </h3>
                    <p className="text-neutral-300 text-sm mb-4">
                      Download your resume as a professionally formatted PDF file, ready to send to employers.
                    </p>
                    <div className="mb-4">
                      <label className="block text-sm font-medium text-neutral-300 mb-2">
                        Filename
                      </label>
                      <input
                        type="text"
                        value={resumeFilename}
                        onChange={(e) => setResumeFilename(e.target.value)}
                        placeholder={personalInfo.fullName || 'resume'}
                        className="w-full px-4 py-2 rounded-lg bg-white/10 border border-white/20 text-white placeholder-neutral-400 focus:border-white focus:ring-2 focus:ring-white focus:ring-opacity-20 outline-none transition"
                      />
                      <p className="text-xs text-neutral-400 mt-1">
                        Leave blank to use your name
                      </p>
                    </div>
                    <button
                      onClick={generateResume}
                      className="w-full bg-white text-neutral-900 py-3 px-4 rounded-xl font-semibold hover:bg-neutral-100 transition flex items-center justify-center gap-2 shadow-lg"
                    >
                      <Download size={20} />
                      Download Resume
                    </button>
                  </div>

                  {/* Stats */}
                  <div className="bg-white rounded-2xl shadow-xl border border-neutral-200 p-6">
                    <h3 className="text-xl font-bold mb-4" style={{ fontFamily: 'Crimson Pro, serif' }}>
                      Your Progress
                    </h3>
                    <div className="space-y-3">
                      <div className="flex justify-between text-sm">
                        <span className="text-neutral-600">Education entries</span>
                        <span className="font-semibold">{education.filter(e => e.included !== false).length}/{education.length}</span>
                      </div>
                      <div className="flex justify-between text-sm">
                        <span className="text-neutral-600">Work experiences</span>
                        <span className="font-semibold">{workExperience.filter(w => w.included !== false).length}/{workExperience.length}</span>
                      </div>
                      <div className="flex justify-between text-sm">
                        <span className="text-neutral-600">Skill categories</span>
                        <span className="font-semibold">{technicalSkills.filter(s => s.included !== false).length}/{technicalSkills.length}</span>
                      </div>
                      <div className="flex justify-between text-sm">
                        <span className="text-neutral-600">Other experiences</span>
                        <span className="font-semibold">{relevantExperience.filter(e => e.included !== false).length}/{relevantExperience.length}</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      );
    };

    ReactDOM.render(<ResumeBuilder />, document.getElementById('root'));
  </script>
</body>
</html>